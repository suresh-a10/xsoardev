commonfields:
  id: 56ce4834-c784-49c1-8a8c-1d67453b14c3
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.9.7.24076
enabled: true
engineinfo: {}
mainengineinfo: {}
name: GRAUpdateSubOption
pswd: ""
runas: DBotWeakRole
runonce: false
script: |+
  # if not demisto.args().get('old') and demisto.args().get('new'):  # If reviewer was no-one and is now someone:

  # If there is a new sub-option:
  if demisto.args().get('new'):
      context=demisto.incident().get('CustomFields')
      option=demisto.args().get('new')
      if option=='closeCase':
          if context.get('gracloseas'):
              newSubOption=context.get('gracloseas')
              demisto.executeCommand('setIncident',{'grasuboption':newSubOption})
      if option=='modelReviewCase':
          if context.get('gracloseasmodelreview'):
              newSubOption=context.get('gracloseasmodelreview')
              demisto.executeCommand('setIncident',{'grasuboption':newSubOption})
      if option=='riskManageCase':
          if context.get('gracloseasriskmanaged'):
              newSubOption=context.get('gracloseasriskmanaged')
              demisto.executeCommand('setIncident',{'grasuboption':newSubOption})


scripttarget: 0
subtype: python3
tags:
- field-change-triggered
type: python
