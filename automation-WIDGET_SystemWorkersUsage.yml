args:
- name: from
commonfields:
  id: a250d319-e848-4896-8539-d7a0888a9157
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
enabled: true
engineinfo: {}
mainengineinfo: {}
name: WIDGET_SystemWorkersUsage
pswd: ""
runas: DBotWeakRole
runonce: false
script: |-
  var res = executeCommand("getWorkersStatistics", {});
  if (isError(res[0])) {
      return res;
  }

  var busy = res[0].Contents.Busy;
  var free = res[0].Contents.Total - res[0].Contents.Busy;

  var data = [
      {name: 'Free', color: 'green', data: [free]},
      {name: 'Busy', color: 'red', data: [busy]}
  ];

  return JSON.stringify(data);
scripttarget: 0
tags:
- widget
type: javascript
