contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
id: 9d019ac8-2ac4-477c-80aa-3f1eff7b0dbe
inputs: []
name: Demo - Email Communication_v1
outputs: []
sourceplaybookid: 3a4f4315-6e77-4b29-8799-c922921edb01
starttaskid: "0"
tasks:
  "0":
    continueonerrortype: ""
    id: "0"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "9"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 029dd468-587c-40c2-8539-cb11a7b5c590
      iscommand: false
      name: ""
      version: -1
    taskid: 029dd468-587c-40c2-8539-cb11a7b5c590
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 50,
          "y": 50
        }
      }
  "2":
    continueonerrortype: ""
    evidencedata:
      customfields: {}
      description:
        simple: User Email Communication
    id: "2"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "4"
    note: false
    quietmode: 2
    scriptarguments:
      body_type:
        simple: HTML
      mail_sender_instance:
        simple: Gmail Single User_instance_1
      new_thread:
        simple: "true"
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: |-
        Send email reply
        This automation runs using the default Limited User role, unless you explicitly change the permissions.
        For more information, see the section about permissions here:
        https://docs-cortex.paloaltonetworks.com/r/Cortex-XSOAR/6.10/Cortex-XSOAR-Administrator-Guide/Automations
      id: a02f7682-c9a7-446c-8e4c-2ce834adef4c
      iscommand: false
      name: Send Email
      script: SendEmailReply
      type: regular
      version: -1
    taskid: a02f7682-c9a7-446c-8e4c-2ce834adef4c
    timertriggers:
    - action: start
      fieldname: initialsla
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 545
        }
      }
  "4":
    continueonerrortype: ""
    id: "4"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "8"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 50cacb5d-91ef-4deb-8584-d8bc0565bfc4
      iscommand: false
      name: wait for user response
      tags:
      - test
      type: regular
      version: -1
    taskid: 50cacb5d-91ef-4deb-8584-d8bc0565bfc4
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 720
        }
      }
  "8":
    continueonerrortype: ""
    id: "8"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "11"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 3f8f79fc-e437-4097-8315-73903b21b2d7
      iscommand: false
      name: end
      type: title
      version: -1
    taskid: 3f8f79fc-e437-4097-8315-73903b21b2d7
    timertriggers:
    - action: stop
      fieldname: initialsla
    type: title
    view: |-
      {
        "position": {
          "x": 50,
          "y": 895
        }
      }
  "9":
    continueonerrortype: ""
    form:
      description: ""
      expired: false
      questions:
      - defaultrows: []
        fieldassociated: ""
        gridcolumns: []
        id: "0"
        label: ""
        labelarg:
          simple: How many days the SLA to set
        options: []
        optionsarg: []
        placeholder: ""
        readonly: false
        required: false
        tooltip: ""
        type: number
      sender: ""
      title: Set SLA
      totalanswers: 0
    id: "9"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    message:
      bcc: null
      body: null
      cc: null
      format: ""
      methods: []
      subject: null
      timings:
        completeafterreplies: 1
        completeaftersla: false
        completeafterv2: true
        retriescount: 2
        retriesinterval: 360
      to: null
    nexttasks:
      '#none#':
      - "10"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: c1c19157-6fd4-4845-87a6-2c87b65b9144
      iscommand: false
      name: Analyst has to provide SLA
      type: collection
      version: -1
    taskid: c1c19157-6fd4-4845-87a6-2c87b65b9144
    timertriggers: []
    type: collection
    view: |-
      {
        "position": {
          "x": 50,
          "y": 195
        }
      }
  "10":
    continueonerrortype: ""
    id: "10"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "2"
    note: false
    quietmode: 0
    scriptarguments:
      emailnewbody:
        simple: |-
          <!DOCTYPE html>
          <html>

          <table>
          <thead>
          <tr>
          <th>ID</th>
          <th>CSPID</th>
          <th>Email</th>
          <th>SponserID</th>
          <th>SEmail</th>
          </tr>
          </thead>

          <tbody>
          <tr>
          <td>4</td>
          <td>emp123</td>
          <td>test@test.com</td>
          <td>123</td>
          <td>cortexxsoar2023@gmail.com</td>
          </tr>

          <tr>
          <td>3</td>
          <td>emp789</td>
          <td>def@test.com</td>
          <td>123</td>
          <td>cortexxsoar2023@gmail.com</td>
          </tr>

          <tr>
          <td>5</td>
          <td>emp1213</td>
          <td>jkl@test.com</td>
          <td>123</td>
          <td>cortexxsoar2023@gmail.com</td>
          </tr>
          </tbody>
          </table>

          </body>
          </html>
      emailnewrecipients:
        simple: sua@paloaltonetworks.com
      emailnewsubject:
        simple: 'Test Email Communication 1 '
      sla:
        complex:
          accessor: 0}
          root: ${Set SLA.Answers
          transformers:
          - args:
              by:
                value:
                  simple: "2"
            operator: division
          - operator: floor
      slaField:
        simple: initialsla
    separatecontext: false
    skipunavailable: false
    task:
      brand: Builtin
      description: commands.local.cmd.set.incident
      id: 1e2c2e09-3f99-4346-8c9e-110b951a8934
      iscommand: true
      name: Set  SLA and Email fields
      script: Builtin|||setIncident
      type: regular
      version: -1
    taskid: 1e2c2e09-3f99-4346-8c9e-110b951a8934
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
  "11":
    continueonerrortype: ""
    id: "11"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "12"
    note: false
    quietmode: 0
    scriptarguments:
      emailnewbody:
        simple: |-
          <!DOCTYPE html>
          <html>

          <table>
          <thead>
          <tr>
          <th>ID</th>
          <th>CSPID</th>
          <th>Email</th>
          <th>SponserID</th>
          <th>SEmail</th>
          </tr>
          </thead>

          <tbody>
          <tr>
          <td>4</td>
          <td>emp123</td>
          <td>test@test.com</td>
          <td>123</td>
          <td>cortexxsoar2023@gmail.com</td>
          </tr>

          <tr>
          <td>3</td>
          <td>emp789</td>
          <td>def@test.com</td>
          <td>123</td>
          <td>cortexxsoar2023@gmail.com</td>
          </tr>


          </tbody>
          </table>

          </body>
          </html>
      emailnewrecipients:
        simple: sua@paloaltonetworks.com
      emailnewsubject:
        simple: Test Email Communication Reminder 2
      sla:
        complex:
          accessor: "0"
          root: Set SLA.Answers
          transformers:
          - args:
              by:
                value:
                  simple: "4"
            operator: division
          - operator: floor
      slaField:
        simple: secondremidersla
    separatecontext: false
    skipunavailable: false
    task:
      brand: Builtin
      description: commands.local.cmd.set.incident
      id: 29180c3e-2803-4fab-80f0-d77350198b3b
      iscommand: true
      name: Set SLA 75%
      script: Builtin|||setIncident
      type: regular
      version: -1
    taskid: 29180c3e-2803-4fab-80f0-d77350198b3b
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1040
        }
      }
  "12":
    continueonerrortype: ""
    evidencedata:
      customfields: {}
      description:
        simple: User Email Communication
    id: "12"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "13"
    note: false
    quietmode: 2
    scriptarguments:
      body_type:
        simple: HTML
      mail_sender_instance:
        simple: Gmail Single User_instance_1
      new_thread:
        simple: "true"
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: |-
        Send email reply
        This automation runs using the default Limited User role, unless you explicitly change the permissions.
        For more information, see the section about permissions here:
        https://docs-cortex.paloaltonetworks.com/r/Cortex-XSOAR/6.10/Cortex-XSOAR-Administrator-Guide/Automations
      id: 37ea4755-1da1-488d-8be7-03b11cfab522
      iscommand: false
      name: Send Email
      script: SendEmailReply
      type: regular
      version: -1
    taskid: 37ea4755-1da1-488d-8be7-03b11cfab522
    timertriggers:
    - action: start
      fieldname: secondremidersla
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1215
        }
      }
  "13":
    continueonerrortype: ""
    id: "13"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "14"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 25a6ed16-53bd-4cf3-8436-5e2b0869e962
      iscommand: false
      name: wait for user response
      tags:
      - test1
      type: regular
      version: -1
    taskid: 25a6ed16-53bd-4cf3-8436-5e2b0869e962
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1390
        }
      }
  "14":
    continueonerrortype: ""
    id: "14"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: d2b9fde8-ff87-426c-8a0d-06afbfd35b22
      iscommand: false
      name: Stop Second Reminder SLA
      type: title
      version: -1
    taskid: d2b9fde8-ff87-426c-8a0d-06afbfd35b22
    timertriggers:
    - action: stop
      fieldname: secondremidersla
    type: title
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1565
        }
      }
  "15":
    continueonerrortype: ""
    id: "15"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "16"
    note: false
    quietmode: 0
    scriptarguments:
      emailnewbody:
        simple: |-
          <!DOCTYPE html>
          <html>

          <table>
          <thead>
          <tr>
          <th>ID</th>
          <th>CSPID</th>
          <th>Email</th>
          <th>SponserID</th>
          <th>SEmail</th>
          </tr>
          </thead>

          <tbody>
          <tr>
          <td>4</td>
          <td>emp123</td>
          <td>test@test.com</td>
          <td>123</td>
          <td>cortexxsoar2023@gmail.com</td>
          </tr>


          </tbody>
          </table>

          </body>
          </html>
      emailnewrecipients:
        simple: sua@paloaltonetworks.com
      emailnewsubject:
        simple: Test Email Communication Reminder 3
      sla:
        complex:
          accessor: "0"
          root: Set SLA.Answers
          transformers:
          - args:
              by:
                iscontext: true
                value:
                  simple: Set SLA.Answers.0
            operator: division
          - operator: floor
          - args:
              by:
                value:
                  simple: "1"
            operator: addition
      slaField:
        simple: finalremindersla
    separatecontext: false
    skipunavailable: false
    task:
      brand: Builtin
      description: commands.local.cmd.set.incident
      id: 55bfdae4-709c-4076-8d48-6e7d158978fc
      iscommand: true
      name: SLA reached to 100 %
      script: Builtin|||setIncident
      type: regular
      version: -1
    taskid: 55bfdae4-709c-4076-8d48-6e7d158978fc
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1710
        }
      }
  "16":
    continueonerrortype: ""
    evidencedata:
      customfields: {}
      description:
        simple: User Email Communication
    id: "16"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "17"
    note: false
    quietmode: 2
    scriptarguments:
      body_type:
        simple: HTML
      mail_sender_instance:
        simple: Gmail Single User_instance_1
      new_thread:
        simple: "true"
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: |-
        Send email reply
        This automation runs using the default Limited User role, unless you explicitly change the permissions.
        For more information, see the section about permissions here:
        https://docs-cortex.paloaltonetworks.com/r/Cortex-XSOAR/6.10/Cortex-XSOAR-Administrator-Guide/Automations
      id: 8afdb7f8-eced-4238-887b-6bd5ea7e2c64
      iscommand: false
      name: Send Email
      script: SendEmailReply
      type: regular
      version: -1
    taskid: 8afdb7f8-eced-4238-887b-6bd5ea7e2c64
    timertriggers:
    - action: start
      fieldname: finalremindersla
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1885
        }
      }
  "17":
    continueonerrortype: ""
    id: "17"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "18"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: e27aa1e3-44b6-4312-82a7-ccc4906036f7
      iscommand: false
      name: wait for user response
      tags:
      - test2
      type: regular
      version: -1
    taskid: e27aa1e3-44b6-4312-82a7-ccc4906036f7
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2060
        }
      }
  "18":
    continueonerrortype: ""
    id: "18"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 45c9b0e7-8b6f-435a-87f6-be8d343d2b06
      iscommand: false
      name: Stop Final Reminder SLA
      type: title
      version: -1
    taskid: 45c9b0e7-8b6f-435a-87f6-be8d343d2b06
    timertriggers:
    - action: stop
      fieldname: finalremindersla
    type: title
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2235
        }
      }
version: -1
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 2250,
        "width": 380,
        "x": 50,
        "y": 50
      }
    }
  }
