contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
id: 1e3a5f90-9bdd-422a-8632-2842e5b66246
inputs: []
name: TCS-Upload Shift Roster v1.0
outputs: []
starttaskid: "0"
tasks:
  "0":
    continueonerrortype: ""
    id: "0"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "16"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: af3c2b49-efb2-4eb3-8064-3a3eaf3e45de
      iscommand: false
      name: ""
      version: -1
    taskid: af3c2b49-efb2-4eb3-8064-3a3eaf3e45de
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 480,
          "y": 50
        }
      }
  "2":
    continueonerrortype: ""
    id: "2"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "13"
    note: false
    quietmode: 0
    scriptarguments:
      cmd:
        simple: rm -f /var/CSOC_Shift_Roaster/*
      using:
        simple: RemoteAccess v2_ShiftManagementJob
    separatecontext: false
    skipunavailable: false
    task:
      brand: RemoteAccess v2
      description: Run the specified command on the remote system with SSH.
      id: 00fa66c0-5063-4e71-8d93-d45ec30808a0
      iscommand: true
      name: Remove Previous Month File
      script: RemoteAccess v2|||ssh
      type: regular
      version: -1
    taskid: 00fa66c0-5063-4e71-8d93-d45ec30808a0
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 680,
          "y": 910
        }
      }
  "3":
    continueonerrortype: ""
    id: "3"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "12"
    note: false
    quietmode: 0
    scriptarguments:
      body:
        simple: |-
          Hello Human,

          You are not on my authorized list of senders to send CSOC Monthly roster to autobot. Please contact Your XSOAR Support team.

          Regards,
          CSOC Cyber AutoBot
      subject:
        simple: Not Authorized To Send Mail For CSOC Monthly Roster
      to:
        complex:
          accessor: Email/from
          root: incident.labels
    separatecontext: false
    skipunavailable: false
    task:
      brand: EWS Mail Sender
      description: Sends an email using EWS.
      id: 1283e87a-ed7e-4e9a-8955-afcd80fd99f5
      iscommand: true
      name: Send Email Notification - Not Authorized User
      script: EWS Mail Sender|||send-mail
      type: regular
      version: -1
    taskid: 1283e87a-ed7e-4e9a-8955-afcd80fd99f5
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 160,
          "y": 400
        }
      }
  "5":
    continueonerrortype: ""
    id: "5"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 7b1e36c6-60ed-4dfd-8133-cc8fc89b1e4d
      iscommand: false
      name: Done
      type: title
      version: -1
    taskid: 7b1e36c6-60ed-4dfd-8133-cc8fc89b1e4d
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 680,
          "y": 1880
        }
      }
  "6":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: File.Extension
          operator: isEqualString
          right:
            value:
              simple: csv
      label: "yes"
    continueonerrortype: ""
    id: "6"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#default#':
      - "8"
      "yes":
      - "2"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: fbc0af11-c10b-4b94-8e1a-742a0e87ecbd
      iscommand: false
      name: Is File type CSV?
      type: condition
      version: -1
    taskid: fbc0af11-c10b-4b94-8e1a-742a0e87ecbd
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 780,
          "y": 380
        }
      }
  "8":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: File.Extension
          operator: isEqualString
          right:
            value:
              simple: xlsx
      label: "yes"
    continueonerrortype: ""
    id: "8"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#default#':
      - "15"
      "yes":
      - "9"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 0ea603f9-4bbf-41a4-8c5a-989a76bc2d5e
      iscommand: false
      name: Is File type xlsx?
      type: condition
      version: -1
    taskid: 0ea603f9-4bbf-41a4-8c5a-989a76bc2d5e
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 1230,
          "y": 610
        }
      }
  "9":
    continueonerrortype: ""
    id: "9"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "2"
    note: false
    quietmode: 0
    scriptarguments:
      all_files:
        simple: "no"
      entry_id:
        complex:
          accessor: EntryID
          filters:
          - - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: xlsx
          root: File
      format:
        simple: csv
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: 'Converts a file from one format to a different format by using
        the convert-to function of Libre Office. For a list of supported input/output
        formats see:  https://wiki.openoffice.org/wiki/Framework/Article/Filter/FilterList_OOo_3_0'
      id: 84c27895-bf97-4260-8c87-5c48e62f5757
      iscommand: false
      name: Convert file to csv format
      script: ConvertFile
      type: regular
      version: -1
    taskid: 84c27895-bf97-4260-8c87-5c48e62f5757
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 680,
          "y": 670
        }
      }
  "11":
    continueonerrortype: ""
    id: "11"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "14"
    note: false
    quietmode: 0
    scriptarguments:
      cmd:
        simple: mv /var/CSOC_Shift_Roaster/*.csv /var/CSOC_Shift_Roaster/CSOC_Roaster.csv
      using:
        simple: RemoteAccess v2_ShiftManagementJob
    separatecontext: false
    skipunavailable: false
    task:
      brand: RemoteAccess v2
      description: Run the specified command on the remote system with SSH.
      id: e79e3a11-b35e-4176-89de-063e210a1390
      iscommand: true
      name: Rename File
      script: RemoteAccess v2|||ssh
      type: regular
      version: -1
    taskid: e79e3a11-b35e-4176-89de-063e210a1390
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 680,
          "y": 1275
        }
      }
  "12":
    continueonerrortype: ""
    id: "12"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "5"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: Builtin
      description: commands.local.cmd.close.inv
      id: 24794666-5a70-4e1a-8ad6-b31ac67a7826
      iscommand: true
      name: Close Investigation
      script: Builtin|||closeInvestigation
      type: regular
      version: -1
    taskid: 24794666-5a70-4e1a-8ad6-b31ac67a7826
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 680,
          "y": 1675
        }
      }
  "13":
    continueonerrortype: ""
    id: "13"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "11"
    note: false
    quietmode: 0
    scriptarguments:
      dest-dir:
        simple: /var/CSOC_Shift_Roaster
      entry_id:
        complex:
          accessor: EntryID
          filters:
          - - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: csv
          root: File
      using:
        simple: RemoteAccess v2_ShiftManagementJob
    separatecontext: false
    skipunavailable: false
    task:
      brand: RemoteAccess v2
      description: Copies the given file from Cortex XSOAR to the remote machine.
      id: a3da3c81-5b88-435a-8f57-1c7c39b92442
      iscommand: true
      name: Copy the File to CDC
      script: RemoteAccess v2|||copy-to
      type: regular
      version: -1
    taskid: a3da3c81-5b88-435a-8f57-1c7c39b92442
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 680,
          "y": 1090
        }
      }
  "14":
    continueonerrortype: ""
    id: "14"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "12"
    note: false
    quietmode: 0
    scriptarguments:
      body:
        simple: |-
          Hello,

          CSOC Monthly roster was uploaded successfully on server.

          Regards,
          CSOC Cyber AutoBot
      cc:
        simple: CyberAutoBotGrp@tcscomprod.onmicrosoft.com
      subject:
        simple: CSOC Monthly Roster Uploaded Successfully
      to:
        complex:
          accessor: Email/from
          root: incident.labels
    separatecontext: false
    skipunavailable: false
    task:
      brand: EWS Mail Sender
      description: Sends an email using EWS.
      id: de366704-50d4-42fa-832c-2586aeaa652f
      iscommand: true
      name: Send Email Notification with Task completed message
      script: EWS Mail Sender|||send-mail
      type: regular
      version: -1
    taskid: de366704-50d4-42fa-832c-2586aeaa652f
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 680,
          "y": 1450
        }
      }
  "15":
    continueonerrortype: ""
    id: "15"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "12"
    note: false
    quietmode: 0
    scriptarguments:
      body:
        simple: |-
          Hello,

          File received for CSOC Monthly roster did not have expected file extension. Please send roster in .xlsx or .csv extension.

          Regards,
          CSOC Cyber AutoBot
      cc:
        simple: CyberAutoBotGrp@tcscomprod.onmicrosoft.com
      subject:
        simple: CSOC Monthly Roster-File extension incorrect.
      to:
        complex:
          accessor: Email/from
          root: incident.labels
    separatecontext: false
    skipunavailable: false
    task:
      brand: EWS Mail Sender
      description: Sends an email using EWS.
      id: 23b1cce5-9833-450e-888d-2e3ca911fae3
      iscommand: true
      name: Send Email Notification - File extension incorrect
      script: EWS Mail Sender|||send-mail
      type: regular
      version: -1
    taskid: 23b1cce5-9833-450e-888d-2e3ca911fae3
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 1230,
          "y": 1250
        }
      }
  "16":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: incident.labels.Email/from
          operator: isEqualString
          right:
            value:
              simple: yogesh.gholap@tcs.com
        - left:
            iscontext: true
            value:
              simple: incident.labels.Email/from
          operator: isEqualString
          right:
            value:
              simple: vinay.parmar@tcs.com
        - left:
            iscontext: true
            value:
              simple: incident.labels.Email/from
          operator: isEqualString
          right:
            value:
              simple: porkodi.g@tcs.com
        - left:
            iscontext: true
            value:
              simple: incident.labels.Email/from
          operator: isEqualString
          right:
            value:
              simple: komal.lugade@tcs.com
      label: "yes"
    continueonerrortype: ""
    id: "16"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#default#':
      - "3"
      "yes":
      - "6"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: c1086ec4-7902-4db7-8e91-785232d30104
      iscommand: false
      name: Is Email From Authorized Sender?
      type: condition
      version: -1
    taskid: c1086ec4-7902-4db7-8e91-785232d30104
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 480,
          "y": 195
        }
      }
  "17":
    continueonerrortype: ""
    id: "17"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    scriptarguments:
      all_files:
        simple: "no"
      entry_id:
        complex:
          accessor: EntryID
          filters:
          - - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: xlsx
          root: File
      format:
        simple: csv:CSV UTF-8 (Comma delimited)
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: 'Converts a file from one format to a different format by using
        the convert-to function of Libre Office. For a list of supported input/output
        formats see:  https://wiki.openoffice.org/wiki/Framework/Article/Filter/FilterList_OOo_3_0'
      id: d04d235d-cf56-460d-8ff3-96da52e27478
      iscommand: false
      name: Convert file to csv format
      script: ConvertFile
      type: regular
      version: -1
    taskid: d04d235d-cf56-460d-8ff3-96da52e27478
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": -200,
          "y": 90
        }
      }
version: -1
view: |-
  {
    "linkLabelsPosition": {
      "6_2_yes": 0.22
    },
    "paper": {
      "dimensions": {
        "height": 1895,
        "width": 1810,
        "x": -200,
        "y": 50
      }
    }
  }
