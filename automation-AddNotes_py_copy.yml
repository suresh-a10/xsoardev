args:
- name: name
- name: text
  required: true
commonfields:
  id: 3a8db65b-6a22-4f51-8ae5-a0717dbee5ec
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/py3ews:1.0.0.32273
enabled: true
engineinfo: {}
mainengineinfo: {}
name: AddNotes_py_copy
pswd: ""
runas: DBotWeakRole
runonce: false
script: |-
  # Javascript code
  '''
  var id = args.id;
  var text = args.text;
  text = "testing"
  var res = executeCommand("addEntries", {"id" :id, "entries": JSON.stringify([{
          Type: entryTypes.note,
          Contents: text,
          ContentsFormat: formats.markdown,
          Note: true
  }])});

  return res;
  '''


  # Python code

  #text = 'python code testing 2'
  args=demisto.args()
  text = args.get('text')

  #text = "testing"

  entries = {
          'ContentsFormat': formats["text"],
          'Contents': text,
          'format':'markdown',
          'Type': entryTypes["note"],
          'Tags': ['Test Update'],
          'Note': True
      }

  return_results(demisto.executeCommand("addEntries", {"entries":[entries]}))

  demisto.executeCommand('setIncident',{'severity':'High'})
scripttarget: 0
subtype: python3
tags:
- field-change-triggered
type: python
