contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
id: 2577cc80-ff2e-4c2c-812d-60d6db8b982a
inputs: []
name: ReportDownload
outputs: []
starttaskid: "0"
tasks:
  "0":
    continueonerrortype: ""
    id: "0"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "2"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 006acc20-a0c4-4c10-86ab-45f818a81de7
      iscommand: false
      name: ""
      version: -1
    taskid: 006acc20-a0c4-4c10-86ab-45f818a81de7
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 450,
          "y": -195
        }
      }
  "1":
    continueonerrortype: ""
    form:
      description: ""
      expired: false
      questions:
      - defaultrows: []
        fieldassociated: ""
        gridcolumns: []
        id: "0"
        label: ""
        labelarg:
          simple: 'Query '
        options: []
        optionsarg: []
        placeholder: ""
        readonly: false
        required: false
        tooltip: ""
        type: longText
      - defaultrows: []
        fieldassociated: ""
        gridcolumns: []
        id: "1"
        label: ""
        labelarg:
          simple: From Date
        options: []
        optionsarg: []
        placeholder: ""
        readonly: false
        required: false
        tooltip: ""
        type: date
      - defaultrows: []
        fieldassociated: ""
        gridcolumns: []
        id: "2"
        label: ""
        labelarg:
          simple: To Date
        options: []
        optionsarg: []
        placeholder: ""
        readonly: false
        required: false
        tooltip: ""
        type: date
      sender: Your SOC team
      title: ExportData Details
      totalanswers: 0
    id: "1"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    message:
      bcc: null
      body: null
      cc: null
      format: ""
      methods: []
      subject: null
      timings:
        completeafterreplies: 1
        completeaftersla: false
        completeafterv2: true
        retriescount: 2
        retriesinterval: 360
      to: null
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 17cd7e9b-78ab-4bdc-84eb-f96a44245cbf
      iscommand: false
      name: Report Generation
      type: collection
      version: -1
    taskid: 17cd7e9b-78ab-4bdc-84eb-f96a44245cbf
    timertriggers: []
    type: collection
    view: |-
      {
        "position": {
          "x": 1170,
          "y": -210
        }
      }
  "2":
    continueonerrortype: ""
    id: "2"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "7"
    note: false
    quietmode: 0
    scriptarguments:
      body:
        simple: |-
          {
            "all" : true,
            "columns" : [ "id","name","status","owner","duedate" ],
            "filter" : {
              "fields" : [ "id","name","status","owner","duedate" ],
              "page" : 0,
              "period" : {
                "by" : "day",
                "fromValue" : 90
              },
              "query" : "status:Pending",
              "size" : 100000,
              "sort" : [ {
                "asc" : true,
                "field" : "id"
              } ],
              "totalOnly" : true,
              "trim_events" : 0
            },
            "force" : true,
            "overrideInvestigation" : true
          }
      extend-context:
        simple: ReportFileName=
      uri:
        simple: /incident/batch/exportToCsv
    separatecontext: false
    skipunavailable: false
    task:
      brand: Core REST API
      description: send HTTP POST request.
      id: 2a0aeaba-2618-433e-8c85-ad8a2f539ced
      iscommand: true
      name: Post API request to Batch export Incidents
      script: Core REST API|||core-api-post
      type: regular
      version: -1
    taskid: 2a0aeaba-2618-433e-8c85-ad8a2f539ced
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 450,
          "y": 20
        }
      }
  "3":
    continueonerrortype: ""
    id: "3"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: |
        Retrieves the current date and time.
      id: de794cf8-0411-4aa0-8902-25a5e45fe638
      iscommand: false
      name: Get unix timestamp
      script: GetTime
      type: regular
      version: -1
    taskid: de794cf8-0411-4aa0-8902-25a5e45fe638
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 1040,
          "y": 440
        }
      }
  "4":
    continueonerrortype: ""
    id: "4"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "6"
    note: false
    quietmode: 2
    scriptarguments:
      extend-context:
        simple: CSVData=
      uri:
        simple: /incident/csv/${ReportFileName.response}
    separatecontext: false
    skipunavailable: false
    task:
      brand: Core REST API
      description: send HTTP GET requests.
      id: 57d04bfe-0870-4ef7-8060-45a2ff3e4217
      iscommand: true
      name: get the CSV file
      script: Core REST API|||core-api-get
      type: regular
      version: -1
    taskid: 57d04bfe-0870-4ef7-8060-45a2ff3e4217
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 450,
          "y": 440
        }
      }
  "5":
    continueonerrortype: ""
    id: "5"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    scriptarguments:
      body:
        simple: '{"userFilter":false, "fields":["id","name","status","owner"],"filter":{"page":0,"size":50,"query":"-status:closed
          -category:job","sort":[{"field":"id","asc":false}],"fromDate":"2023-12-31T18:30:00.000Z","toDate":"2024-04-30T18:29:59.999Z"}}'
      extend-context:
        simple: filedetails=
      uri:
        simple: /incident/batch/exportToCsv
    separatecontext: false
    skipunavailable: false
    task:
      brand: Core REST API
      description: send HTTP POST request.
      id: a3081676-b442-4a0d-8f25-48b770286dde
      iscommand: true
      name: Post API request to Batch export Incidents
      script: Core REST API|||core-api-post
      type: regular
      version: -1
    taskid: a3081676-b442-4a0d-8f25-48b770286dde
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 1200,
          "y": 250
        }
      }
  "6":
    continueonerrortype: ""
    id: "6"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    scriptarguments:
      uri:
        simple: /incident/csv/${ReportFileName.response}
    separatecontext: false
    skipunavailable: false
    task:
      brand: Core REST API
      description: Download files from Core server.
      id: 54aceaac-f031-424f-8896-4fbba415160a
      iscommand: true
      name: Download the CSV fike
      script: Core REST API|||core-api-download
      type: regular
      version: -1
    taskid: 54aceaac-f031-424f-8896-4fbba415160a
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 450,
          "y": 640
        }
      }
  "7":
    continueonerrortype: ""
    id: "7"
    ignoreworker: true
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "4"
    note: false
    quietmode: 0
    scriptarguments:
      seconds:
        simple: "3"
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Sleep for X seconds.
      id: e9cced78-e11a-495a-8024-bef474d2fa85
      iscommand: false
      name: sleep
      script: Sleep
      type: regular
      version: -1
    taskid: e9cced78-e11a-495a-8024-bef474d2fa85
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 450,
          "y": 240
        }
      }
  "8":
    continueonerrortype: ""
    id: "8"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    scriptarguments:
      csvArray:
        simple: ${CSVData}
      fileName:
        simple: ${ReportFileName.response}
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Export given array to csv file
      id: 90196529-f1d2-423b-8ac2-4e7ca353a234
      iscommand: false
      name: Untitled Task
      script: ExportToCSV
      type: regular
      version: -1
    taskid: 90196529-f1d2-423b-8ac2-4e7ca353a234
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 170,
          "y": 880
        }
      }
version: -1
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 1185,
        "width": 1410,
        "x": 170,
        "y": -210
      }
    }
  }
