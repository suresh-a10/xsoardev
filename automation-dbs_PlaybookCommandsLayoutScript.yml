commonfields:
  id: 694ffb53-0b1d-46a6-8689-fdb424ff51ee
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.10.9.45313
enabled: true
engineinfo: {}
mainengineinfo: {}
name: dbs_PlaybookCommandsLayoutScript
pswd: ""
runas: DBotWeakRole
runonce: false
script: |2

  #Update the playbook commands XSOAR List name below
  res = demisto.executeCommand("getList", {"listName":"PlaybookCommandsList"})

  response = json.loads(res[0]['Contents'])
  cmdsList = []
  for item in response:
      key = list(item.keys())[0]
      cmdsList.append({"Playbook": key, "Commands" : ", ".join(item[key])})

  md = tableToMarkdown(name="Playbook Commands", headers=["Playbook","Commands"],t=cmdsList)

  demisto.results({
      "Contents":cmdsList,
      "ContentsFormat":formats['markdown'],
      "Type":entryTypes["note"],
      "HumanReadable":md,
      "ReadableContentsFormat":formats['markdown']
  })
scripttarget: 0
subtype: python3
tags:
- dynamic-section
type: python
