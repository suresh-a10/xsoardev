commonfields:
  id: 5367ae9d-d453-41a9-841a-359c25770a7b
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: Incident Management Contribution Pack
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.9.7.24076
enabled: true
engineinfo: {}
mainengineinfo: {}
name: SetSLATimer
pswd: ""
runas: DBotWeakRole
runonce: false
script: |-
  import json

  def fetch_sla_list():
      result = demisto.executeCommand("getList", {"listName": "SLATimer"})

      list_content = result[0]['Contents']
      sla_data = json.loads(list_content)

      incident_severity = demisto.incidents()[0].get('severity')
      severity_str = str(incident_severity)
      sla_timers = sla_data.get(severity_str, {})
      demisto.setContext('SLA_Timers', sla_timers)


      demisto.results({
          'Type': 1,
          'ContentsFormat': 'json',
          'Contents': sla_timers

      })

  fetch_sla_list()
scripttarget: 0
subtype: python3
tags: []
type: python
