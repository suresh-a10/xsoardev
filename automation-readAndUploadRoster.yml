args:
- description: ListName
  name: listname
comment: This Scripts reads the roster from Context Key ParseCSV and updates the list
  which is provided for output. Before you run this script ensure you run ParseCSV
  automation to read the uploaded CSV file
commonfields:
  id: 4648d328-b989-4a62-842d-3eb33e0b4580
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.10.5.31928
enabled: true
engineinfo: {}
mainengineinfo: {}
name: readAndUploadRoster
pswd: ""
runas: DBotWeakRole
runonce: false
script: |-
  csv_data = demisto.context()
  csv_data = csv_data['ParseCSV']['ParsedCSV'][2:17]
  ##demisto.args(InputArgument('listName':'listname'))

  count = 0
  final_roaster = {}
  for i in csv_data:
      emp_data = {}
      del i['']
      key = i['Date']
      del i['Date']
      emp_data = {key: i}
      final_roaster.update(emp_data)

  print(final_roaster)
  demisto.executeCommand("addToList", {"listName":"shifts","listData":final_roaster})
scripttarget: 0
subtype: python3
tags: []
type: python
