commonfields:
  id: 3762dfb9-8273-4273-823c-9ec566e305d9
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.9.7.24076
enabled: true
engineinfo: {}
mainengineinfo: {}
name: SecurityScoreCard_WIP
pswd: ""
runas: DBotWeakRole
runonce: false
script: |+
  domain="tcs.com"
  score = demisto.executeCommand("securityscorecard-company-score-get",{"domain":domain})
  print(score)
  #print(score[0]['Contents'])

  HistoricalFactor = demisto.executeCommand("securityscorecard-company-history-factor-score-get",{"domain":domain})
  print("Historical Factor")
  #print(HistoricalFactor[0]['Contents'].get('entries'))
  HistoricalFactor=HistoricalFactor[0]['Contents'].get('entries')
  HistoricalScore = demisto.executeCommand("securityscorecard-company-history-score-get",{"domain":domain})
  print("Historical Score")
  HistoricalScore=HistoricalScore[0]['Contents'].get('entries')
  print(HistoricalScore)


  # Alldata={}
  # Alldata=json.loads(demisto.executeCommand("getList",{"listName":"SecurityScoreCard"})[0]['Contents'])


  # for e in HistoricalScore:
  #     date=(e.get('date'))
  #     date=date.split("T")[0]
  #     score=[]
  #     score.append(e.get('score'))
  #     value={}
  #     value['name']=date
  #     value['data']=score
  #     Alldata[date]=value

  # print(Alldata)


  # for e in HistoricalFactor:
  #     date=(e.get('date'))
  #     date=date.split("T")[0]
  #     factors=e.get('factors')
  #     temp=[]

  #     for f in factors:
  #         val={}
  #         sc=[]
  #         sc.append(f.get('score'))
  #         val['name']=f.get('name')
  #         val['data']=sc
  #         temp.append(val)

  #     # score.append(e.get('factors'))
  #     #value={}
  #     #value['factors']=e.get('factors')
  #     Alldata[date]['groups']=temp



  # print(Alldata)

  # demisto.executeCommand("setList",{"listName":"SecurityScoreCard" ,"listData":Alldata})



scripttarget: 0
subtype: python3
tags: []
type: python
