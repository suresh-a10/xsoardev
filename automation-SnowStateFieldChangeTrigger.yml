commonfields:
  id: beb607a8-d9c4-47bc-8981-6952fb3abd13
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.10.12.63474
enabled: true
engineinfo: {}
mainengineinfo: {}
name: SnowStateFieldChangeTrigger
pswd: ""
runas: DBotWeakRole
runonce: false
script: |2+


  from typing import Dict, Any
  import traceback



  ''' MAIN FUNCTION '''


  def main():
      inc_data=demisto.incidents()[0]
      close_notes = demisto.args().get('closenotes')
      close_reasons= demisto.args().get('closereason')
      closing_user_id= demisto.args().get('closingUserId')

      if closing_user_id == 'admin':
          demisto
      custom_fields = inc_data.get("CustomFields",{})


      # demisto.results(inc_data.get("closeReason"))
      # demisto.results(inc_data.get("closeNotes"))
      new = custom_fields.get("snowstate")
      print(new)
      if new == "Resolved":
          print("Snow field is resolved")
      else:
          return_error('Updated the field with proper value')


  ''' ENTRY POINT '''


  if __name__ in ('__main__', '__builtin__', 'builtins'):
      main()

scripttarget: 0
subtype: python3
tags:
- post-processing
type: python
