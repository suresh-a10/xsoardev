args:
- description: The old value of the changed field
  name: old
- description: The new value of the changed field
  name: new
commonfields:
  id: 9bffd67a-078b-4de9-8327-4ec0421c4629
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.9.7.24076
enabled: true
engineinfo: {}
mainengineinfo: {}
name: PopulateReviewDateOnReviewerChange
pswd: ""
runas: DBotWeakRole
runonce: false
script: |-
  import datetime,pytz

  context=demisto.incident()

  if not demisto.args().get('old') and demisto.args().get('new'):  # If reviewer was no-one and is now someone:
      set_time=datetime.datetime.now(pytz.timezone('Asia/Kolkata')).isoformat()
      demisto.executeCommand('setIncident',{'reviewdate':set_time})
      demisto.results("Date Reviewed set to "+set_time)
scripttarget: 0
subtype: python3
tags:
- field-change-triggered
type: python
