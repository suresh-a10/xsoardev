args:
- description: path and name object passed by the "GetFilePathPreProcessing" pre-processing
    script
  isArray: true
  name: object
  required: true
comment: This automation is being executed by the "GetFilePathPreProcessing" pre-processing
  script that collects the paths and names of attachments of an incoming incident,
  then passes it to this automation that reads the files and creates them in an existing
  incident
commonfields:
  id: CreateFileFromPathObject
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: 6.2.0
    itemVersion: 1.3.8
    packID: CommunityCommonScripts
    packName: Community Common Scripts
    packPropagationLabels:
    - all
    prevname: ""
    propagationLabels: []
    toServerVersion: ""
dockerimage: demisto/python3:3.11.10.115186
enabled: true
engineinfo: {}
mainengineinfo: {}
name: CreateFileFromPathObject
pswd: ""
runas: DBotWeakRole
runonce: false
script: |
  register_module_line('CreateFileFromPathObject', 'start', __line__())
  demisto.debug('pack name = Community Common Scripts, pack version = 1.3.8')



  obj = json.loads(demisto.args()["object"])
  for attachment in obj:
      filePath = demisto.getFilePath(attachment["path"])["path"]
      with open(filePath, 'rb') as f:
          data = f.read()
          demisto.results(fileResult(attachment["name"], data))

  register_module_line('CreateFileFromPathObject', 'end', __line__())
scripttarget: 0
subtype: python3
system: true
tags: []
type: python
