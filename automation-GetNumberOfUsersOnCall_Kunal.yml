comment: Retrieves the number of users who are currently on call.
commonfields:
  id: 01ef050a-8e48-433c-8459-b8b173dfe68f
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dockerimage: demisto/python3:3.9.1.14969
enabled: true
engineinfo: {}
mainengineinfo: {}
name: GetNumberOfUsersOnCall_Kunal
pswd: ""
runas: DBotWeakRole
runonce: false
script: |2




  from typing import List


  def main():
      ooo = demisto.executeCommand("GetUsersOOONumber_Kunal", {})[0]['Contents']
      get_users_response: List = demisto.executeCommand('getUsers', {'onCall': True})
      if is_error(get_users_response):
          demisto.error(f'Failed to get users on call: {str(get_error(get_users_response))}')
      else:
          number_widget = NumberWidget(len(get_users_response[0]['Contents'])-int(ooo))
          return_results(number_widget)


  if __name__ in ('__builtin__', 'builtins', '__main__'):
      main()
scripttarget: 0
subtype: python3
tags:
- Shift Management
- widget
type: python
